"use strict";(self["webpackChunkmy_app"]=self["webpackChunkmy_app"]||[]).push([[193],{3193:function(e,t,l){l.r(t),l.d(t,{default:function(){return p}});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"goodHead"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handlerAdd()}}},[e._v("+新增")])],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"90%"}},[t("el-table-column",{attrs:{prop:"name",label:"商品名",width:"200"}}),t("el-table-column",{attrs:{prop:"price",label:"价格",width:"200"}}),t("el-table-column",{attrs:{prop:"num",label:"数量",width:"200"}}),t("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.handlerEdit(l.row)}}},[e._v("修改")]),t("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.handleRemove(l.row)}}},[e._v("删除")])]}}])})],1),t("el-dialog",{attrs:{title:"新增商品",visible:e.dialogFormVisible,"before-close":e.handlerOff},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"商品名",prop:"name"}},[t("el-input",{attrs:{autocomplete:"off",placeholder:"请输入商品名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),t("el-form-item",{attrs:{label:"价格",prop:"price"}},[t("el-input",{attrs:{autocomplete:"off",placeholder:"请输入价格"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),t("el-form-item",{attrs:{label:"数量",prop:"num"}},[t("el-input",{attrs:{autocomplete:"off",placeholder:"请输入数量"},model:{value:e.form.num,callback:function(t){e.$set(e.form,"num",t)},expression:"form.num"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.handlerOff}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.handlerSub}},[e._v("确 定")])],1)],1)],1)},a=[],o=l(4471);const i=e=>o.Z.get("/good/getGood",e),s=e=>o.Z.post("/good/edit",e),n=e=>o.Z.post("/good/del",e),m=e=>o.Z.post("/good/add",e);var d={data(){return{tableData:[],dialogFormVisible:!1,form:{name:"",price:"",num:""},userForm:{name:""},tableF:!1,rules:{name:[{required:!0,message:"请输入商品名"}],price:[{required:!0,message:"请输入价格"}],num:[{required:!0,message:"请输入数量"}]}}},methods:{getList(){i().then((e=>{let{data:t}=e;this.tableData=JSON.parse(JSON.stringify(t.list))}))},handlerAdd(){this.tableF=!1,this.dialogFormVisible=!0},handlerOff(){this.$refs.form.resetFields(),this.dialogFormVisible=!1},handlerSub(){this.$refs.form.validate((e=>{e&&(this.tableF?s(this.form).then((()=>{this.getList()})):m(this.form).then((()=>{this.getList()})),this.$refs.form.resetFields(),this.dialogFormVisible=!1)}))},handlerEdit(e){this.tableF=!0,this.dialogFormVisible=!0,this.form=JSON.parse(JSON.stringify(e))},handleRemove(e){this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{let t=this;n({id:e.id}).then((()=>{this.$message({type:"success",message:"删除成功!"}),t.getList()}))})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))}},mounted(){this.getList()}},c=d,u=l(1001),f=(0,u.Z)(c,r,a,!1,null,"c14b8fdc",null),p=f.exports}}]);